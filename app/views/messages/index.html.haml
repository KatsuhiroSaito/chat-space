= render 'shared/side_bar'

.chat-main
  - if @message.errors.any?
    .chat-main__errors
      %ul
        - @message.errors.full_messages.each do |message|
          %li= message
  .chat-main__header
    .chat-main__header-group
      .chat-main__header-group-name= @group.name
      = link_to edit_group_path(@group), class: "chat-main__header-group-edit-btn" do
        Edit
    .chat-main__header-members
      MEMBER:
      %i
        - @group.users.each do |member|
          = member.name
  .chat-main__body
    .chat-main__messages-list
      .chat-main__message
        - @group.messages.each do |message|
          .chat-main__message-name= message.user.name
          .chat-main__message-time= message.created_at
          .chat-main__message-body= message.body
          - if message.image.present?
            .chat-main__message-image
              = image_tag message.image_url
  .chat-main__footer
    = form_for @message, url: {action: "create"} do |f|
      = f.text_field :body, class: 'chat-main__footer-form-text', placeholder: 'type a message'
      %label{class: "chat-main__footer-form-file-input", for: "file-input"}
        %i.fa.fa-image
      = f.file_field :image, id: 'file-input'
      = f.submit class: 'chat-main__footer-form-submit-btn'
